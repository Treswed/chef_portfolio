{% extends 'base.html' %}

{% block title %}Recipes - Chef Portfolio{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <div class="container">
        <h1 class="page-title">My Recipes</h1>
        <p class="page-subtitle">Explore my collection of delicious dishes</p>
    </div>
</section>

<!-- Search and Filter -->
<section class="search-filter-section">
    <div class="container">
        <form method="get" class="search-filter-form">
            <div class="search-box">
                <input type="text" name="search" placeholder="Search recipes..." value="{{ search_query }}">
                <button type="submit" class="search-btn">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"/>
                    </svg>
                </button>
            </div>
            
            <div class="filter-group">
                <select name="category" onchange="this.form.submit()">
                    <option value="">All Categories</option>
                    {% for category in categories %}
                    <option value="{{ category.slug }}" {% if selected_category == category.slug %}selected{% endif %}>
                        {{ category.name }}
                    </option>
                    {% endfor %}
                </select>
                
                <select name="difficulty" onchange="this.form.submit()">
                    <option value="">All Difficulties</option>
                    <option value="easy" {% if selected_difficulty == 'easy' %}selected{% endif %}>Easy</option>
                    <option value="medium" {% if selected_difficulty == 'medium' %}selected{% endif %}>Medium</option>
                    <option value="hard" {% if selected_difficulty == 'hard' %}selected{% endif %}>Hard</option>
                </select>
            </div>
        </form>
    </div>
</section>

<!-- Recipes Grid -->
<section class="recipes-section">
    <div class="container">
        <div class="recipes-grid">
            {% for recipe in recipes %}
            <div class="recipe-card">
                <div class="recipe-image">
                        {% if recipe.featured_image %}
                            <img src="{{ recipe.featured_image.url }}" alt="{{ recipe.title }}">
                        {% else %}
                            <img src="/static/images/default.jpg" alt="No image available">
                        {% endif %}
                    <div class="recipe-overlay">
                        <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="btn-view-recipe">View Recipe</a>
                    </div>
                </div>
                <div class="recipe-info">
                    <span class="recipe-category">{{ recipe.category.name }}</span>
                    <h3>{{ recipe.title }}</h3>
                    <p>{{ recipe.description|truncatewords:15 }}</p>
                    <div class="recipe-meta">
                        <span class="meta-item">
                            <svg viewBox="0 0 24 24" width="16" height="16">
                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" fill="currentColor"/>
                            </svg>
                            {{ recipe.total_time }} min
                        </span>
                        <span class="meta-item">
                            <svg viewBox="0 0 24 24" width="16" height="16">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" fill="currentColor"/>
                            </svg>
                            {{ recipe.servings }} servings
                        </span>
                        <span class="difficulty-badge difficulty-{{ recipe.difficulty }}">{{ recipe.get_difficulty_display }}</span>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="empty-state">
                <svg viewBox="0 0 24 24" width="100" height="100">
                    <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z" fill="#D1D5DB"/>
                </svg>
                <h2>No Recipes Found</h2>
                <p>Try adjusting your search or filters</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<style>
.page-header {
    padding: 3rem 0;
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 165, 0, 0.1));
    text-align: center;
}

.page-title {
    font-size: 3rem;
    margin-bottom: 0.5rem;
}

.page-subtitle {
    font-size: 1.25rem;
    color: var(--text-light);
}

.search-filter-section {
    padding: 2rem 0;
    background: var(--white);
    box-shadow: 0 2px 10px var(--shadow);
}

.search-filter-form {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    align-items: center;
}

.search-box {
    flex: 1;
    min-width: 300px;
    display: flex;
    gap: 0.5rem;
}

.search-box input {
    flex: 1;
    padding: 0.75rem 1rem;
    border: 2px solid #E5E7EB;
    border-radius: 25px;
    font-size: 1rem;
}

.search-box input:focus {
    outline: none;
    border-color: var(--primary-color);
}

.search-btn {
    padding: 0.75rem 1.5rem;
    background: var(--primary-color);
    color: var(--white);
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.search-btn:hover {
    background: var(--secondary-color);
}

.filter-group {
    display: flex;
    gap: 1rem;
}

.filter-group select {
    padding: 0.75rem 1rem;
    border: 2px solid #E5E7EB;
    border-radius: 25px;
    font-size: 1rem;
    cursor: pointer;
    background: var(--white);
}

.filter-group select:focus {
    outline: none;
    border-color: var(--primary-color);
}

.recipes-section {
    padding: 3rem 0;
}
</style>
{% endblock %}
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>